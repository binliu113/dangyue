{"remainingRequest":"C:\\xampp\\htdocs\\codes\\dy-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\codes\\dy-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xampp\\htdocs\\codes\\dy-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\codes\\dy-vue\\src\\components\\Myself.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\codes\\dy-vue\\src\\components\\Myself.vue","mtime":1557580991419},{"path":"C:\\xampp\\htdocs\\codes\\dy-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\codes\\dy-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\codes\\dy-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\codes\\dy-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      tCode: false,\n      loginCode: false,\n      //登录控制\n      navCode: true,\n      //navbar控制\n      uname: '',\n      //input\n      upwd: '',\n      //input\n      code: 1,\n      //页面实际监控session-控制\n      num: 0,\n      user: {},\n      count: 0,\n      list: [],\n      tostStyle: {\n        //加载提示\n        height: document.documentElement.clientHeight + 'px'\n      }\n    };\n  },\n  created: function created() {\n    this.setTime();\n  },\n  updated: function updated() {\n    this.loadDetail();\n  },\n  watch: {\n    //实时监听登录状态\n    code: function code() {\n      var s = sessionStorage.getItem('uid');\n\n      if (!s) {\n        this.loginCode = false;\n      } else {\n        this.loginCode = true;\n      }\n    }\n  },\n  methods: {\n    //请求个人详情\n    loadDetail: function loadDetail() {\n      var _this = this;\n\n      if (this.loginCode) {\n        this.num += 1;\n\n        if (this.num < 2) {\n          var url = this.host + 'user/details';\n          this.axios.get(url, {\n            params: {\n              uid: sessionStorage.getItem('uid')\n            }\n          }).then(function (res) {\n            var user = res.data.user;\n            sessionStorage.setItem('user_name', user.user_name);\n            sessionStorage.setItem('user_img', user.user_img);\n            _this.user = res.data.user;\n            _this.count = res.data.count;\n            _this.list = res.data.data;\n            _this.tCode = false;\n          });\n        }\n      }\n    },\n    //监听登录状态控制\n    setTime: function setTime() {\n      var _this2 = this;\n\n      setInterval(function () {\n        if (_this2.code < 0) {\n          _this2.code++;\n        } else {\n          _this2.code--;\n        }\n      }, 1);\n    },\n    //注销登录\n    removeLogin: function removeLogin() {\n      history.go(0);\n      sessionStorage.removeItem('uid');\n      sessionStorage.removeItem('user_name');\n      sessionStorage.removeItem('user_img');\n      var url = this.host + 'user/logout';\n      this.axios.get(url, {\n        params: {}\n      }).then(function (res) {\n        console.log(res);\n      });\n    },\n    //登录\n    loadLogin: function loadLogin() {\n      var _this3 = this;\n\n      this.tCode = true; //var nreg = /^\\d{3,8}$/\n      // if(!nreg.test(this.uname)){\n      //     this.$toast('用户名格式不正确');\n      //     return;\n      // }\n\n      var preg = /^\\d{3,8}$/;\n\n      if (!preg.test(this.upwd)) {\n        this.$toast('密码格式不正确');\n        return;\n      }\n\n      var url = this.host + 'user/login';\n      this.axios.get(url, {\n        params: {\n          uname: this.uname,\n          upwd: this.upwd\n        }\n      }).then(function (res) {\n        var code = res.data.code;\n\n        if (code != -1) {\n          _this3.$toast('登录成功');\n\n          var $uid = res.data.data[0].uid;\n          sessionStorage.setItem('uid', $uid);\n        } else {\n          _this3.$toast('用户名与密码不匹配');\n        }\n      });\n    },\n    //登录状态控制\n    showWorks: function showWorks() {\n      this.navCode = true;\n    },\n    showKeep: function showKeep() {\n      this.navCode = false;\n    }\n  }\n};",{"version":3,"sources":["Myself.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"html\">\r\n    <div class=\"app-myself\">\r\n        <div class=\"login-hide\" v-if=\"!loginCode\">\r\n            <header id=\"header\" class=\"mui-bar mui-bar-transparent\">\r\n                <h1 class=\"mui-title\">用户登录</h1>\r\n            </header>\r\n            <form action=\"#\">\r\n                <input type=\"text\" class=\"uname inputs\" placeholder=\"请输入用户名\" v-model=\"uname\">\r\n                <input type=\"password\" class=\"upwd inputs\" placeholder=\"请输入登录密码\" v-model=\"upwd\">\r\n                <input type=\"button\" value=\"登录\" @click=\"loadLogin\" class=\"login-btn\">\r\n            </form>\r\n        </div>\r\n        <!-- 加载提示 -->\r\n        <div class=\"Toast\" v-if=\"tCode\" :style=\"tostStyle\">\r\n            <div class=\"toast-box\">\r\n                <span class=\"mui-spinner\"></span>\r\n                <p>正在加载中..</p>\r\n            </div>\r\n        </div>\r\n        <div v-if=\"loginCode\" class=\"login-show\">\r\n            <div class=\"bg-box\">\r\n                <img src=\"../img/1.jpg\" alt=\"\" class=\"bg-img\">\r\n            </div>\r\n            <div class=\"my-details\">\r\n                <div class=\"img-box\">\r\n                    <img :src=\"user.user_img\" alt=\"\" class=\"my-img\">\r\n                    <div class=\"btn-box\">\r\n                        <a href=\"javascript:;\">\r\n                            <span class=\"lbtn\" @click=\"removeLogin\">注销</span>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <!-- 用户信息 -->\r\n                <div class=\"details-user\">\r\n                    <h4 class=\"user-name\" v-text=\"user.user_name\"></h4>\r\n                    <p class=\"user-title\">当悦号：{{user.phone}}</p>\r\n                </div>\r\n                <div class=\"icon-box\">\r\n                    <p v-text=\"user.signature\">这个人很懒什么都没留下</p>\r\n                    <span class=\"icon-item\">西安</span>\r\n                    <span class=\"icon-item\">小哥哥</span>\r\n                    <span class=\"icon-item\">喜欢女,爱好女</span>\r\n                </div>\r\n                <div class=\"group\">\r\n                    <span class=\"group-item\"><strong v-text=\"count\">0</strong>获赞</span>\r\n                    <span class=\"group-item\"><strong>7</strong>关注</span>\r\n                    <span class=\"group-item\"><strong>4</strong>粉丝</span>\r\n                </div>\r\n                <ul class=\"list-navbar\">\r\n                    <li class=\"list-item\" :class=\"navCode==true ? 'active': ' ' \" @click=\"showWorks\">\r\n                        <span class=\"item-child\">我的作品</span>\r\n                    </li>\r\n                    <li class=\"list-item\" :class=\"navCode==false ? 'active': ' ' \" @click=\"showKeep\">\r\n                        <span class=\"item-child\">我的收藏</span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"list-content\">\r\n                <div class=\"list-works\" v-show=\"navCode\">\r\n                    <div class=\"works-list\">\r\n                        <!-- 作品类表 -->\r\n                        <div class=\"works-item\" v-for=\"item of list\">\r\n                            <router-link to=\"\" class=\"works-link\">\r\n                                <video :src=\"item.src\" class=\"link-icon\">\r\n                                </video>\r\n                            </router-link>\r\n                            <div class=\"works-icon\">\r\n                                <span class=\"mui-icon-extra mui-icon-extra-heart-filled\"></span>\r\n                                <span>{{item.like_num}}赞</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"list-keep\" v-show=\"!navCode\">\r\n                    text2\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n            tCode: false,\r\n            loginCode: false,       //登录控制\r\n            navCode: true,      //navbar控制\r\n            uname:'',       //input\r\n            upwd:'',       //input\r\n            code:1,      //页面实际监控session-控制\r\n            num:0,\r\n            user:{},\r\n            count:0,\r\n            list:[],\r\n            tostStyle:{\r\n                //加载提示\r\n                height: document.documentElement.clientHeight+'px'\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n        this.setTime();\r\n    },\r\n    updated(){\r\n        this.loadDetail();\r\n    },\r\n   watch:{\r\n       //实时监听登录状态\r\n       code(){\r\n            var s = sessionStorage.getItem('uid');\r\n            if(!s){\r\n                this.loginCode = false;\r\n            }else{\r\n                this.loginCode = true;\r\n            }\r\n       }\r\n   },\r\n    methods:{\r\n        //请求个人详情\r\n        loadDetail(){\r\n            if(this.loginCode){\r\n                this.num+=1;\r\n                if(this.num<2){\r\n                    var url = this.host+'user/details';\r\n                    this.axios.get(url,{\r\n                        params:{\r\n                            uid:sessionStorage.getItem('uid')\r\n                        }\r\n                    }).then(res=>{\r\n                        var user = res.data.user;\r\n                        sessionStorage.setItem('user_name',user.user_name);\r\n                        sessionStorage.setItem('user_img',user.user_img);\r\n                        this.user = res.data.user;\r\n                        this.count = res.data.count;\r\n                        this.list = res.data.data;\r\n                        this.tCode = false;\r\n                    })\r\n\r\n                }\r\n\r\n            }\r\n        },\r\n        //监听登录状态控制\r\n        setTime(){\r\n            setInterval(() => {\r\n                if(this.code < 0){\r\n                    this.code++;\r\n                }else{\r\n                    this.code--;\r\n                }\r\n            }, 1);\r\n        },\r\n        //注销登录\r\n        removeLogin(){\r\n            history.go(0)\r\n            sessionStorage.removeItem('uid');\r\n            sessionStorage.removeItem('user_name');\r\n            sessionStorage.removeItem('user_img');\r\n            var url = this.host+'user/logout';\r\n            this.axios.get(url,{\r\n                params:{}\r\n            }).then((res)=>{\r\n                console.log(res);\r\n            })\r\n        },\r\n        //登录\r\n        loadLogin(){\r\n            this.tCode = true;\r\n            //var nreg = /^\\d{3,8}$/\r\n            // if(!nreg.test(this.uname)){\r\n            //     this.$toast('用户名格式不正确');\r\n            //     return;\r\n            // }\r\n            var preg = /^\\d{3,8}$/\r\n            if(!preg.test(this.upwd)){\r\n                this.$toast('密码格式不正确')\r\n                return;\r\n            }\r\n            var url = this.host+'user/login';\r\n            this.axios.get(url,{\r\n                params:{\r\n                    uname:this.uname,\r\n                    upwd:this.upwd\r\n                }\r\n            }).then(res=>{\r\n                var code = res.data.code;\r\n                if(code!=-1){\r\n                    this.$toast('登录成功');\r\n                    var $uid = res.data.data[0].uid;\r\n                    sessionStorage.setItem('uid',$uid);\r\n                }else{\r\n                    this.$toast('用户名与密码不匹配');\r\n                }\r\n            })\r\n        },\r\n        //登录状态控制\r\n        showWorks(){\r\n            this.navCode = true;\r\n        },\r\n        showKeep(){\r\n            this.navCode = false;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n/* 提示样式 */\r\n.app-myself .Toast{\r\n    width: 100%;\r\n    text-align: center;\r\n    background-image: linear-gradient(91deg, rgb(2, 0, 49) 0px, rgb(109, 51, 83) 140%);\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    display: flex;\r\n    position: fixed;\r\n    top: 0;\r\n}\r\n.app-myself .toast-box{\r\n    padding-top: 1rem;\r\n    margin: 0 auto;\r\n    width: 10rem;\r\n    background: rgba(0, 0, 0, .5);\r\n    border-radius: .5rem;\r\n    display: inline-block;\r\n}\r\n/* 主样式 */\r\n.app-myself .login-hide{\r\n    padding: 10rem 1rem;\r\n    text-align: center;\r\n}\r\n.app-myself .login-hide h1{\r\n    color: #fff;\r\n}\r\n.app-myself .inputs,.app-myself .login-btn{\r\n    background: rgba(0, 0, 0, .4);\r\n    border: 0;\r\n    border-radius: .5rem;\r\n}\r\n.app-myself .login-btn{\r\n    color: #fff;\r\n    padding: .6rem 3rem;\r\n}\r\n.app-myself .bg-box{\r\n    width: 100%;\r\n    height: 12rem;\r\n    border-bottom: .1rem solid rgba(0, 0, 0, .5);\r\n}\r\n.app-myself .bg-box .bg-img{\r\n    width: 100%;\r\n    height:100%;\r\n}\r\n.app-myself .my-details{\r\n    background: rgba(0, 0, 0, .5);\r\n    padding: 0rem 1rem;\r\n    padding-top: 6rem;\r\n    position: relative;\r\n}\r\n.app-myself .my-details .img-box{\r\n    width: 100%;\r\n    height: 7rem;\r\n    position: absolute;\r\n    top: -1.5rem;\r\n}\r\n.app-myself .my-details .my-img{\r\n    width: 7rem;\r\n    height: 100%;\r\n    border: .2rem solid rgba(0, 0, 0, .5);\r\n    border-radius: 50%;\r\n}\r\n.app-myself .my-details .btn-box{\r\n    display: inline-block;\r\n    position: absolute;\r\n    top: 3rem;\r\n    right: 2rem;\r\n}\r\n.app-myself .my-details .lbtn{\r\n    font-size: 17px;\r\n    color: #fff;\r\n    background: rgba(102,102,102,.5);\r\n    border-radius: .2rem;\r\n    padding: .3rem .7rem;\r\n}\r\n.app-myself .my-details .details-user{\r\n    border-bottom: .05rem solid rgba(102,102,102,.5);\r\n    margin-bottom: .5rem;\r\n}\r\n.app-myself .my-details .user-name{\r\n    color: #fff;\r\n    margin: .5rem 0;\r\n}\r\n.app-myself .my-details .user-title{\r\n    font-size: 10px;\r\n    color: #fff;\r\n}\r\n.app-myself .my-details .icon-box .icon-item{\r\n    font-size: 10px;\r\n    margin: 0 .2rem;\r\n    padding: .3rem .5rem;\r\n    border-radius: .2rem;\r\n    background: rgba(102,102,102,.5);\r\n}\r\n.app-myself .my-details .group{\r\n    margin: 1rem 0;\r\n}\r\n.app-myself .my-details .group-item{\r\n    margin: .5rem;\r\n    color: #fff;\r\n    font-size: 16px;\r\n}\r\n.app-myself .list-navbar{\r\n    padding: 0;\r\n    margin-bottom: 0;\r\n    list-style: none;\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n.app-myself .list-item{\r\n    padding: .5rem;\r\n}\r\n.app-myself .list-item.active{\r\n    color: #fff;\r\n    border-bottom: 1px solid #ffc107;\r\n}\r\n.app-myself .list-content{\r\n    margin-top: .1rem;\r\n}\r\n.app-myself  .list-content .works-list{\r\n    width: 100%;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-around;\r\n}\r\n.list-content .works-list .works-item{\r\n    width: 49.5%;\r\n    height: 12rem;\r\n    background: #000;\r\n    margin-bottom: .1rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: relative;\r\n}\r\n.list-content .works-list .works-link,.list-content .works-list .works-link .link-icon{\r\n    width: 100%;\r\n    display: block;\r\n}\r\n.list-content .works-list .works-icon{\r\n    color: #fff;\r\n    font-size: 16px;\r\n    position: absolute;\r\n    left: .5rem;\r\n    bottom: .5rem;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}